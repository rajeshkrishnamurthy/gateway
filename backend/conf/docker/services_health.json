# Services health configuration for Docker Compose.
{
  "services": [
    {
      "id": "sms-gateway-1",
      "label": "SMS Gateway (1)",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "sms-gateway-1"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "sms-gateway-1"
      ],
      "instances": [
        {
          "name": "sms-1",
          "addr": ":18080",
          "healthUrl": "http://localhost:18080/readyz",
          "uiUrl": "http://localhost:18080/ui"
        }
      ]
    },
    {
      "id": "sms-gateway-2",
      "label": "SMS Gateway (2)",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "sms-gateway-2"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "sms-gateway-2"
      ],
      "instances": [
        {
          "name": "sms-2",
          "addr": ":18081",
          "healthUrl": "http://localhost:18081/readyz",
          "uiUrl": "http://localhost:18081/ui"
        }
      ]
    },
    {
      "id": "push-gateway-1",
      "label": "Push Gateway (1)",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "push-gateway-1"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "push-gateway-1"
      ],
      "instances": [
        {
          "name": "push-1",
          "addr": ":19080",
          "healthUrl": "http://localhost:19080/readyz",
          "uiUrl": "http://localhost:19080/ui"
        }
      ]
    },
    {
      "id": "push-gateway-2",
      "label": "Push Gateway (2)",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "push-gateway-2"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "push-gateway-2"
      ],
      "instances": [
        {
          "name": "push-2",
          "addr": ":19081",
          "healthUrl": "http://localhost:19081/readyz",
          "uiUrl": "http://localhost:19081/ui"
        }
      ]
    },
    {
      "id": "haproxy",
      "label": "HAProxy",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "haproxy"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "haproxy"
      ],
      "instances": [
        {
          "name": "sms-frontend",
          "addr": ":8080",
          "healthUrl": "http://localhost:8080/readyz",
          "uiUrl": "http://localhost:8080/ui"
        },
        {
          "name": "push-frontend",
          "addr": ":8081",
          "healthUrl": "http://localhost:8081/readyz",
          "uiUrl": "http://localhost:8081/ui"
        },
        {
          "name": "stats",
          "addr": ":8404",
          "healthUrl": "http://localhost:8404/stats",
          "uiUrl": "http://localhost:8404/stats"
        }
      ],
      "singleToggle": true,
      "toggleInstance": "sms-frontend"
    },
    {
      "id": "submission-manager",
      "label": "Submission Manager",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "submission-manager"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "submission-manager"
      ],
      "instances": [
        {
          "name": "submission-manager",
          "addr": ":8082",
          "healthUrl": "http://localhost:8082/readyz"
        }
      ]
    },
    {
      "id": "prometheus",
      "label": "Prometheus",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "prometheus"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "prometheus"
      ],
      "instances": [
        {
          "name": "prometheus",
          "addr": ":9090",
          "healthUrl": "http://localhost:9090/-/ready",
          "uiUrl": "http://localhost:9090"
        }
      ]
    },
    {
      "id": "grafana",
      "label": "Grafana",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "grafana"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "grafana"
      ],
      "instances": [
        {
          "name": "grafana",
          "addr": ":3000",
          "healthUrl": "http://localhost:3000/api/health",
          "uiUrl": "http://localhost:3000"
        }
      ]
    },
    {
      "id": "admin-portal",
      "label": "Admin Portal",
      "startCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "up",
        "-d",
        "admin-portal"
      ],
      "stopCommand": [
        "docker",
        "compose",
        "-f",
        "../docker-compose.yml",
        "stop",
        "admin-portal"
      ],
      "instances": [
        {
          "name": "admin-portal",
          "addr": ":8090",
          "healthUrl": "http://localhost:8090/readyz",
          "uiUrl": "http://localhost:8090/ui"
        }
      ]
    }
  ]
}
